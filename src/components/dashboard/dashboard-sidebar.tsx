"use client";

import { Calendar, Home, Inbox, Search, Settings, LogOut } from "lucide-react";

import {
  Sidebar,
  SidebarContent,
  SidebarFooter,
  SidebarGroup,
  SidebarGroupContent,
  SidebarGroupLabel,
  SidebarHeader,
  SidebarMenu,
  SidebarMenuButton,
  SidebarMenuItem,
} from "@/components/ui/sidebar";

import { useLanguage } from "@/context/LanguageContext";
import { title } from "process";
import { url } from "inspector";
import { usePathname } from "next/navigation";

export function DashboardSideBar() {
  const { t, language, isRTL } = useLanguage();
  const pathname = usePathname();

  const items = [
    {
      title: t("dashboard.sidebar.dashboard"),
      url: "/admin/dashboard",
      icon: (
        <svg
          width="22"
          height="22"
          viewBox="0 0 22 22"
          fill="currentColor"
          xmlns="http://www.w3.org/2000/svg"
        >
          <path d="M3.30005 4.70039C3.30005 4.42191 3.41594 4.15484 3.62223 3.95793C3.82852 3.76102 4.10831 3.65039 4.40005 3.65039H17.6C17.8918 3.65039 18.1716 3.76102 18.3779 3.95793C18.5842 4.15484 18.7 4.42191 18.7 4.70039V6.80039C18.7 7.07887 18.5842 7.34594 18.3779 7.54285C18.1716 7.73977 17.8918 7.85039 17.6 7.85039H4.40005C4.10831 7.85039 3.82852 7.73977 3.62223 7.54285C3.41594 7.34594 3.30005 7.07887 3.30005 6.80039V4.70039ZM3.30005 11.0004C3.30005 10.7219 3.41594 10.4548 3.62223 10.2579C3.82852 10.061 4.10831 9.95039 4.40005 9.95039H11C11.2918 9.95039 11.5716 10.061 11.7779 10.2579C11.9842 10.4548 12.1 10.7219 12.1 11.0004V17.3004C12.1 17.5789 11.9842 17.8459 11.7779 18.0429C11.5716 18.2398 11.2918 18.3504 11 18.3504H4.40005C4.10831 18.3504 3.82852 18.2398 3.62223 18.0429C3.41594 17.8459 3.30005 17.5789 3.30005 17.3004V11.0004ZM15.4 9.95039C15.1083 9.95039 14.8285 10.061 14.6222 10.2579C14.4159 10.4548 14.3 10.7219 14.3 11.0004V17.3004C14.3 17.5789 14.4159 17.8459 14.6222 18.0429C14.8285 18.2398 15.1083 18.3504 15.4 18.3504H17.6C17.8918 18.3504 18.1716 18.2398 18.3779 18.0429C18.5842 17.8459 18.7 17.5789 18.7 17.3004V11.0004C18.7 10.7219 18.5842 10.4548 18.3779 10.2579C18.1716 10.061 17.8918 9.95039 17.6 9.95039H15.4Z" />
        </svg>
      ),
    },
    {
      title: t("dashboard.sidebar.Vehicles"),
      url: "/admin/vehicles",
      icon: (
        <svg
          width="22"
          height="21"
          viewBox="0 0 22 21"
          fill="currentColor"
          xmlns="http://www.w3.org/2000/svg"
        >
          <path d="M8.8 17.325C8.8 17.7427 8.62616 18.1433 8.31673 18.4387C8.00729 18.7341 7.58761 18.9 7.15 18.9C6.71239 18.9 6.29271 18.7341 5.98327 18.4387C5.67384 18.1433 5.5 17.7427 5.5 17.325C5.5 16.9073 5.67384 16.5067 5.98327 16.2113C6.29271 15.9159 6.71239 15.75 7.15 15.75C7.58761 15.75 8.00729 15.9159 8.31673 16.2113C8.62616 16.5067 8.8 16.9073 8.8 17.325ZM16.5 17.325C16.5 17.7427 16.3262 18.1433 16.0167 18.4387C15.7073 18.7341 15.2876 18.9 14.85 18.9C14.4124 18.9 13.9927 18.7341 13.6833 18.4387C13.3738 18.1433 13.2 17.7427 13.2 17.325C13.2 16.9073 13.3738 16.5067 13.6833 16.2113C13.9927 15.9159 14.4124 15.75 14.85 15.75C15.2876 15.75 15.7073 15.9159 16.0167 16.2113C16.3262 16.5067 16.5 16.9073 16.5 17.325Z" />
          <path d="M3.29995 4.2002C3.00821 4.2002 2.72842 4.31082 2.52213 4.50773C2.31584 4.70465 2.19995 4.97172 2.19995 5.2502V15.7502C2.19995 16.0287 2.31584 16.2957 2.52213 16.4927C2.72842 16.6896 3.00821 16.8002 3.29995 16.8002H4.45495C4.58118 16.2068 4.91845 15.6733 5.40961 15.2901C5.90077 14.9069 6.51561 14.6976 7.14995 14.6976C7.7843 14.6976 8.39914 14.9069 8.89029 15.2901C9.38145 15.6733 9.71872 16.2068 9.84495 16.8002H11C11.2917 16.8002 11.5715 16.6896 11.7778 16.4927C11.9841 16.2957 12.1 16.0287 12.1 15.7502V5.2502C12.1 4.97172 11.9841 4.70465 11.7778 4.50773C11.5715 4.31082 11.2917 4.2002 11 4.2002H3.29995ZM15.4 7.3502C15.1082 7.3502 14.8284 7.46082 14.6221 7.65773C14.4158 7.85465 14.3 8.12172 14.3 8.4002V14.7527C14.6539 14.6837 15.0186 14.6819 15.3732 14.7475C15.7278 14.813 16.0655 14.9446 16.3668 15.1348C16.6682 15.3249 16.9273 15.5698 17.1295 15.8556C17.3316 16.1414 17.4728 16.4623 17.545 16.8002H18.7C18.9917 16.8002 19.2715 16.6896 19.4778 16.4927C19.6841 16.2957 19.8 16.0287 19.8 15.7502V8.4002C19.8 8.12172 19.6841 7.85465 19.4778 7.65773C19.2715 7.46082 18.9917 7.3502 18.7 7.3502H15.4Z" />
        </svg>
      ),
    },
    {
      title: t("dashboard.sidebar.Clients"),
      url: "/admin/clients",
      icon: (
        <svg
          width="22"
          height="21"
          viewBox="0 0 22 21"
          fill="currentColor"
          xmlns="http://www.w3.org/2000/svg"
        >
          <path d="M9.9001 6.30039C9.9001 7.13582 9.55242 7.93704 8.93355 8.52778C8.31468 9.11852 7.47531 9.45039 6.6001 9.45039C5.72488 9.45039 4.88552 9.11852 4.26665 8.52778C3.64778 7.93704 3.3001 7.13582 3.3001 6.30039C3.3001 5.46496 3.64778 4.66374 4.26665 4.073C4.88552 3.48226 5.72488 3.15039 6.6001 3.15039C7.47531 3.15039 8.31468 3.48226 8.93355 4.073C9.55242 4.66374 9.9001 5.46496 9.9001 6.30039ZM18.7001 6.30039C18.7001 6.71405 18.6147 7.12367 18.4489 7.50584C18.2831 7.88802 18.04 8.23527 17.7336 8.52778C17.4271 8.82028 17.0633 9.05231 16.663 9.21061C16.2626 9.36891 15.8335 9.45039 15.4001 9.45039C14.9667 9.45039 14.5376 9.36891 14.1372 9.21061C13.7369 9.05231 13.3731 8.82028 13.0666 8.52778C12.7602 8.23527 12.5171 7.88802 12.3513 7.50584C12.1855 7.12367 12.1001 6.71405 12.1001 6.30039C12.1001 5.46496 12.4478 4.66374 13.0666 4.073C13.6855 3.48226 14.5249 3.15039 15.4001 3.15039C16.2753 3.15039 17.1147 3.48226 17.7336 4.073C18.3524 4.66374 18.7001 5.46496 18.7001 6.30039ZM14.2231 17.8504C14.2737 17.507 14.3001 17.1574 14.3001 16.8004C14.3026 15.1507 13.7212 13.5486 12.6501 12.2539C13.4862 11.7931 14.4346 11.5505 15.4001 11.5505C16.3655 11.5505 17.3139 11.7931 18.15 12.2539C18.9861 12.7146 19.6805 13.3774 20.1632 14.1754C20.6459 14.9735 20.9001 15.8788 20.9001 16.8004V17.8504H14.2231ZM6.6001 11.5504C8.05879 11.5504 9.45774 12.1035 10.4892 13.0881C11.5206 14.0726 12.1001 15.408 12.1001 16.8004V17.8504H1.1001V16.8004C1.1001 15.408 1.67956 14.0726 2.71101 13.0881C3.74246 12.1035 5.14141 11.5504 6.6001 11.5504Z" />
        </svg>
      ),
    },
    {
      title: t("dashboard.sidebar.Content"),
      url: "/admin/contracts",
      icon: (
        <svg
          width="22"
          height="21"
          viewBox="0 0 22 21"
          fill="currentColor"
          xmlns="http://www.w3.org/2000/svg"
        >
          <path
            fillRule="evenodd"
            clipRule="evenodd"
            d="M4.3999 4.19961C4.3999 3.64265 4.63169 3.10851 5.04427 2.71469C5.45685 2.32086 6.01643 2.09961 6.5999 2.09961H15.3999C15.9834 2.09961 16.543 2.32086 16.9555 2.71469C17.3681 3.10851 17.5999 3.64265 17.5999 4.19961V16.7996C17.5999 17.3566 17.3681 17.8907 16.9555 18.2845C16.543 18.6784 15.9834 18.8996 15.3999 18.8996H6.5999C6.01643 18.8996 5.45685 18.6784 5.04427 18.2845C4.63169 17.8907 4.3999 17.3566 4.3999 16.7996V4.19961ZM6.5999 4.19961V16.7996H15.3999V4.19961H6.5999Z"
          />
        </svg>
      ),
    },
    {
      title: t("dashboard.sidebar.Feedback"),
      url: "/admin/feedback",
      icon: (
        <svg
          width="22"
          height="22"
          viewBox="0 0 22 22"
          fill="currentColor"
          xmlns="http://www.w3.org/2000/svg"
        >
          <path d="M2.19995 12.0504C2.19995 11.7719 2.31584 11.5048 2.52213 11.3079C2.72842 11.111 3.00821 11.0004 3.29995 11.0004H5.49995C5.79169 11.0004 6.07148 11.111 6.27777 11.3079C6.48406 11.5048 6.59995 11.7719 6.59995 12.0504V17.3004C6.59995 17.5789 6.48406 17.8459 6.27777 18.0429C6.07148 18.2398 5.79169 18.3504 5.49995 18.3504H3.29995C3.00821 18.3504 2.72842 18.2398 2.52213 18.0429C2.31584 17.8459 2.19995 17.5789 2.19995 17.3004V12.0504ZM8.79995 7.85039C8.79995 7.57191 8.91584 7.30484 9.12213 7.10793C9.32842 6.91102 9.60821 6.80039 9.89995 6.80039H12.1C12.3917 6.80039 12.6715 6.91102 12.8778 7.10793C13.0841 7.30484 13.2 7.57191 13.2 7.85039V17.3004C13.2 17.5789 13.0841 17.8459 12.8778 18.0429C12.6715 18.2398 12.3917 18.3504 12.1 18.3504H9.89995C9.60821 18.3504 9.32842 18.2398 9.12213 18.0429C8.91584 17.8459 8.79995 17.5789 8.79995 17.3004V7.85039ZM15.4 4.70039C15.4 4.42191 15.5158 4.15484 15.7221 3.95793C15.9284 3.76102 16.2082 3.65039 16.5 3.65039H18.7C18.9917 3.65039 19.2715 3.76102 19.4778 3.95793C19.6841 4.15484 19.8 4.42191 19.8 4.70039V17.3004C19.8 17.5789 19.6841 17.8459 19.4778 18.0429C19.2715 18.2398 18.9917 18.3504 18.7 18.3504H16.5C16.2082 18.3504 15.9284 18.2398 15.7221 18.0429C15.5158 17.8459 15.4 17.5789 15.4 17.3004V4.70039Z" />
        </svg>
      ),
    },
  ];

  return (
    <Sidebar side={isRTL ? "right" : "left"}>
      <SidebarHeader className="bg-secondary">
        <div className="h-20 text-white flex items-center" dir={isRTL ? "rtl" : "ltr"}>
          <svg
            width="145"
            height="58"
            viewBox="0 0 145 58"
            fill="currentColor"
            xmlns="http://www.w3.org/2000/svg"
          >
            <path d="M53.3333 1.86665C43.3333 4.26665 37.0667 9.46665 23.8667 25.8666L12.6667 39.6V20.8V1.99998H6.66666H0.666664V29.3333V56.6667H5.86666C10.6667 56.6667 11.6 56 18.5333 47.4667C30 33.4667 28.8 33.6 36.8 46L43.7333 56.8L65.4667 56.4C86 56 87.3333 55.8667 90.4 52.9333C92.2667 51.2 97.4667 41.4667 102 31.2C106.667 21.0666 110.8 12.6666 111.2 12.6666C112 12.6666 124.267 38.9333 127.2 46.2667C127.867 48.2667 116.8 46.1333 110.8 43.0666L105.6 40.4L108.533 44.5333C113.733 51.7333 122.267 55.7333 134.133 56.4L144.667 57.0667L142.8 52.5333C141.733 50 136 37.7333 130.133 25.3333L119.333 2.66665H111.2H103.067L93.4667 23.2C88.1333 34.5333 82.5333 44.6666 81.0667 45.6C79.2 46.9333 75.0667 47.3333 67.8667 47.0667L57.3333 46.6666L69.2 38.6666C83.0667 29.4666 86.2667 25.6 86.2667 18.6666C86.2667 10.4 79.2 3.33331 69.0667 1.46664C64.8 0.79998 64.6667 0.79998 64.6667 5.46664C64.6667 9.46664 65.2 10.4 68.5333 11.4666C72.9333 13.0666 75.8667 18.4 74.1333 21.7333C72 25.6 65.7333 30.8 56.9333 35.8666C52.2667 38.5333 48.1333 40.6666 47.6 40.6666C47.0667 40.6666 44.4 37.0666 41.7333 32.5333L36.6667 24.5333L42.4 18.9333C45.7333 15.6 50.2667 12.5333 53.7333 11.6C58.9333 9.99998 59.3333 9.59998 59.3333 5.33331C59.3333 2.79998 58.9333 0.666649 58.4 0.79998C57.7333 0.933315 55.6 1.33331 53.3333 1.86665Z" />
          </svg>
        </div>
      </SidebarHeader>
      <SidebarContent className="bg-secondary">
        <SidebarGroup>
          <SidebarGroupContent>
            <SidebarMenu>
              {items.map((item) => {
                const isActive = pathname === item.url;

                return (
                  <SidebarMenuItem key={item.title} className={`pb-2`}>
                    <SidebarMenuButton
                      className={`hover:bg-primary ${
                        isActive ? "bg-primary" : ""
                      }`}
                      asChild
                    >
                      <a href={item.url} dir={isRTL ? "rtl" : "ltr"}>
                        <div className="text-white">{item.icon}</div>
                        <span className="text-white">{item.title}</span>
                      </a>
                    </SidebarMenuButton>
                  </SidebarMenuItem>
                );
              })}
            </SidebarMenu>
          </SidebarGroupContent>
        </SidebarGroup>
      </SidebarContent>
      <SidebarFooter className="p-0 " dir={isRTL ? "rtl" : "ltr"}>
        <SidebarMenu>
          <SidebarMenuItem className="bg-secondary p-2">
            <SidebarMenuButton className="bg-secondary">
              <a
                href="/dashboard"
                className="flex items-center gap-2 text-white"
              >
                <LogOut className="w-5 h-5 text-white" />
                <span>{t("dashboard.sidebar.logout")}</span>
              </a>
            </SidebarMenuButton>
          </SidebarMenuItem>
        </SidebarMenu>
      </SidebarFooter>
    </Sidebar>
  );
}
